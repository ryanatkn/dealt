import{b as G,a as $,t as D,h as J}from"../chunks/disclose-version.q2jLZV-J.js";import{o as K,q as N,c as n,n as O,r as s,s as a,$ as Q}from"../chunks/runtime.SGEKD4Mg.js";import{i as R}from"../chunks/props.CnXMf3nV.js";import{o as W}from"../chunks/index-client.PAtf1XGn.js";import{B as X}from"../chunks/Breadcrumb.CnsXyEBg.js";import{a as Y,A as Z,D as ee,S as te,C as oe,b as ne}from"../chunks/Dealt.HRRCpPb0.js";import{S as se,F as ie,a as ae,H as re,b as ce}from"../chunks/Help_Button.DutW7Qtx.js";import{c as de,C as _e,e as le,E as ve,p as me,R as pe,r as fe}from"../chunks/renderer_components.UnwV7vKz.js";import{R as ue}from"../chunks/Renderer_Controls.B9nUsSbk.js";import{U as he}from"../chunks/Unit_List_And_Layers.BK5HfUCL.js";import{s as k}from"../chunks/scene_data.B2YDRubQ.js";var ge=D('<div class="controls_wrapper svelte-17hi22n"><!></div>'),we=D('<div class="wrapper svelte-17hi22n"><div class="content p_md"><header class="pb_md"><!></header> <div class="my_md flex"><!> <div class="align_self_end"><!></div></div> <div class="mb_md"><!></div> <div class="relative mt_md"><!> <!></div> <p class="mt_lg width_sm"><!></p></div> <!></div>');function $e(m,x){N(x,!0);const r=new pe(fe,"pixi",800,600),M=de.set(new _e),A=new ne,B=new te(A),l=new oe,b=Y.set(new Z({renderer:r,clock:M,simulation:B,controller:l}));globalThis.app=b;const t=le.set(new ve({app:b})),{project:v}=t;v.set_json(me({scenes:[k]}));const{scene:c}=v;c.set_json(k),c.json_initial=c.json,W(()=>{const e=t.playing;t.playing=!0,t.player_input_enabled=!1;const i=c.onupdate(E);return()=>{i(),t.playing=e,t.player_input_enabled=!0}});const E=e=>{if(t.players)for(const i of t.players)F(i),H(i)},F=e=>{!e.dead&&l.moving&&(e.velocity-=.1*l.moving_y,e.angle+=.04*l.moving_x)},H=e=>{if(!e.dead){const i=Math.cos(e.angle),_=Math.sin(e.angle);e.velocity>0?(e.velocity-=.05,e.velocity>3&&(e.velocity=3)):e.velocity<0&&(e.velocity+=.05,e.velocity<-2&&(e.velocity=-2)),Math.round(e.velocity*100)||(e.velocity=0),e.velocity&&(e.x+=i*e.velocity,e.y+=_*e.velocity)}};ee(m,{children:(e,i)=>{var _=we(),p=n(_),f=n(p),I=n(f);X(I,{children:(o,d)=>{O();var w=G("ðŸ”®");$(o,w)},$$slots:{default:!0}}),s(f);var u=a(f,2),y=n(u);se(y,{project:v});var C=a(y,2),L=n(C);ie(L,{}),s(C),s(u);var h=a(u,2),P=n(h);ue(P,{renderer:r}),s(h);var g=a(h,2),j=n(g);ae(j,{get Component(){return r.Component},scene:c,renderer:r});var U=a(j,2);{var q=o=>{ce(o,{scene:c,get unit_selection(){return t.unit_selection},get width(){return r.width},get height(){return r.height},get scene_interaction_surface_state(){return t.scene_interaction_surface_state},set scene_interaction_surface_state(d){t.scene_interaction_surface_state=d}})};R(U,o=>{t.editing&&o(q)})}s(g);var S=a(g,2),T=n(S);re(T,{}),s(S),s(p);var V=a(p,2);{var z=o=>{var d=ge(),w=n(d);he(w,{project:v}),s(d),$(o,d)};R(V,o=>{t.editing&&o(z)})}s(_),$(e,_)},$$slots:{default:!0}}),K()}function Be(m){J(x=>{Q.title="Dealt: vehicle demo"}),$e(m,{})}export{Be as component};
