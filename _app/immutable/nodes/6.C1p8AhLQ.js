import{t as R,a as h,b as T,h as W}from"../chunks/DyCZ_lw9.js";import{m as G,q as J,c as s,s as n,r as a,n as K,$ as N}from"../chunks/Dkaln31E.js";import{d as O}from"../chunks/DMs3BEDJ.js";import{i as S}from"../chunks/Cr-AO5Xh.js";import{R as Q,c as V,e as X,E as Y,p as Z,r as ee,b as B}from"../chunks/BERuEieG.js";import{o as te}from"../chunks/gf-WXI_b.js";import{B as se}from"../chunks/BwrnnQHH.js";import{a as ae,A as ne,D as re}from"../chunks/BrtYs_i3.js";import{a as oe,b as ie,S as de,F as ce,H as _e}from"../chunks/DwfeztsL.js";import{R as le}from"../chunks/CUNsfRJx.js";import{a as ve,U as pe}from"../chunks/qIRksOct.js";import{s as me}from"../chunks/CGVQbHOh.js";const b={id:7464772085109328,name:"sandbox demo",glyph:"?",units:[{id:0x793c6d633a6330,name:"player",type:"circle",x:409,y:302,rotation:.2,strength:20,behaviors:[{name:"Player_Controller_Behavior"}]},...me.units.slice(1)]};var ue=R('<div class="sidebar svelte-zsua3"><div class="topbar svelte-zsua3"><div class="row justify_content_space_between"><!> <button type="button" class="plain" title="toggle editor [` Backtick]">âœ•</button></div> <div class="py_xs flex"><!> <!></div> <div class="row gap_md"><!> <!></div>  <div class="row mt_xs"><!></div></div> <div class="unit_controls svelte-zsua3"><div class="unit_controls_inner svelte-zsua3"><!></div></div></div>'),ge=R('<div class="sandbox_demo svelte-zsua3"><div class="renderer relative svelte-zsua3"><!> <!></div> <!></div>');function fe(_,x){G(x,!0);const r=new Q(ee,"pixi",0,0),l=ae.set(new ne({renderer:r}));V.set(l.clock),globalThis.app=l;const e=X.set(new Y({app:l})),{project:c}=e;c.set_json(Z({scenes:[b]})),console.log("scene_json",b);const{scene:o}=c;o.set_json(b),o.json_initial=o.json,te(()=>{const v=e.playing;return e.playing=!0,()=>{e.playing=v}}),re(_,{children:(v,he)=>{var p=ge(),i=s(p),y=s(i);oe(y,{get Component(){return r.Component},scene:o,renderer:r});var D=n(y,2);{var A=t=>{ie(t,{scene:o,get unit_selection(){return e.unit_selection},get width(){return r.width},get height(){return r.height},get scene_interaction_surface_state(){return e.scene_interaction_surface_state},set scene_interaction_surface_state(d){e.scene_interaction_surface_state=d}})};S(D,t=>{e.editing&&t(A)})}a(i);var H=n(i,2);{var L=t=>{var d=ue(),m=s(d),u=s(m),w=s(u);se(w,{children:(q,be)=>{K();var M=T("ðŸ”®");h(q,M)},$$slots:{default:!0}});var P=n(w,2);P.__click=()=>{e.editing=!e.editing},a(u);var g=n(u,2),$=s(g);de($,{project:c});var U=n($,2);ce(U,{}),a(g);var f=n(g,2),j=s(f);le(j,{renderer:r,omit_size:!0,row:!0});var E=n(j,2);_e(E,{}),a(f);var z=n(f,2),F=s(z);ve(F,{editor:e}),a(z),a(m);var k=n(m,2),C=s(k),I=s(C);pe(I,{project:c}),a(C),a(k),a(d),h(t,d)};S(H,t=>{e.editing&&t(L)})}a(p),B(i,"clientWidth",t=>r.width=t),B(i,"clientHeight",t=>r.height=t),h(v,p)}}),J()}O(["click"]);function Ae(_){W(x=>{N.title="Dealt: sandbox demo"}),fe(_,{})}export{Ae as component};
