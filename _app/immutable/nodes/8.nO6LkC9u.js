import{t as D,b as G,a as x,h as J}from"../chunks/BPmIRx6_.js";import{p as K,a as N,c as n,n as O,r as s,s as a,$ as Q}from"../chunks/DaTzegC-.js";import{i as R}from"../chunks/BkMa5g5G.js";import{o as W}from"../chunks/Cs9KDze0.js";import{B as X}from"../chunks/B5v_E4tg.js";import{a as Y,A as Z,C as ee,S as te,D as oe,b as ne}from"../chunks/COzoA_vc.js";import{S as se,F as ie,a as ae,H as re,b as ce}from"../chunks/6XofzsLb.js";import{c as de,C as _e,R as ve,e as le,E as me,p as pe,r as fe}from"../chunks/rJk2TnEE.js";import{R as ue}from"../chunks/Cpgqg8Wa.js";import{U as he}from"../chunks/DGGAAGoj.js";import{s as k}from"../chunks/CGVQbHOh.js";var ge=D('<div class="controls_wrapper svelte-17hi22n"><!></div>'),we=D('<div class="wrapper svelte-17hi22n"><div class="content p_md"><header class="pb_md"><!></header> <div class="my_md display_flex"><!> <div class="align_self_end"><!></div></div> <div class="mb_md"><!></div> <div class="relative mt_md"><!> <!></div> <p class="mt_lg width_sm"><!></p></div> <!></div>');function xe(m,b){K(b,!0);const r=new ve(fe,"pixi",800,600),M=de.set(new _e),A=new ne,B=new te(A),v=new ee,$=Y.set(new Z({renderer:r,clock:M,simulation:B,controller:v}));globalThis.app=$;const t=le.set(new me({app:$})),{project:l}=t;l.set_json(pe({scenes:[k]}));const{scene:c}=l;c.set_json(k),c.json_initial=c.json,W(()=>{const e=t.playing;t.playing=!0,t.player_input_enabled=!1;const i=c.onupdate(E);return()=>{i(),t.playing=e,t.player_input_enabled=!0}});const E=e=>{if(t.players)for(const i of t.players)F(i),H(i)},F=e=>{!e.dead&&v.moving&&(e.velocity-=.1*v.moving_y,e.rotation+=.04*v.moving_x)},H=e=>{if(!e.dead){const i=Math.cos(e.rotation),_=Math.sin(e.rotation);e.velocity>0?(e.velocity-=.05,e.velocity>3&&(e.velocity=3)):e.velocity<0&&(e.velocity+=.05,e.velocity<-2&&(e.velocity=-2)),Math.round(e.velocity*100)||(e.velocity=0),e.velocity&&(e.x+=i*e.velocity,e.y+=_*e.velocity)}};oe(m,{children:(e,i)=>{var _=we(),p=n(_),f=n(p),I=n(f);X(I,{children:(o,d)=>{O();var w=G("ðŸ”®");x(o,w)},$$slots:{default:!0}}),s(f);var u=a(f,2),y=n(u);se(y,{project:l});var C=a(y,2),L=n(C);ie(L,{}),s(C),s(u);var h=a(u,2),P=n(h);ue(P,{renderer:r}),s(h);var g=a(h,2),j=n(g);ae(j,{get Component(){return r.Component},scene:c,renderer:r});var U=a(j,2);{var T=o=>{ce(o,{scene:c,get unit_selection(){return t.unit_selection},get width(){return r.width},get height(){return r.height},get scene_interaction_surface_state(){return t.scene_interaction_surface_state},set scene_interaction_surface_state(d){t.scene_interaction_surface_state=d}})};R(U,o=>{t.editing&&o(T)})}s(g);var S=a(g,2),V=n(S);re(V,{}),s(S),s(p);var q=a(p,2);{var z=o=>{var d=ge(),w=n(d);he(w,{project:l}),s(d),x(o,d)};R(q,o=>{t.editing&&o(z)})}s(_),x(e,_)}}),N()}function Be(m){J(b=>{Q.title="Dealt: vehicle demo"}),xe(m,{})}export{Be as component};
