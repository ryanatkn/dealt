import{t as R,a as f,b as W,h as q}from"../chunks/BPmIRx6_.js";import{p as G,a as J,c as s,s as r,r as n,n as K,$ as N}from"../chunks/DaTzegC-.js";import{d as O}from"../chunks/DS-o1SaK.js";import{i as S}from"../chunks/BkMa5g5G.js";import{R as Q,c as V,e as X,E as Y,p as Z,r as ee,b as B}from"../chunks/DJD2jCL7.js";import{o as te}from"../chunks/Cs9KDze0.js";import{B as se}from"../chunks/DtYsV-sp.js";import{a as ne,A as re,D as oe}from"../chunks/7yzeuQP2.js";import{a as ae,b as ie,S as ce,F as de,H as _e}from"../chunks/CsKoBzYh.js";import{R as le}from"../chunks/B2lNXsBz.js";import{a as ve,U as pe}from"../chunks/DmOoHkjb.js";import{s as me}from"../chunks/CGVQbHOh.js";const h={id:7464772085109328,name:"sandbox demo",glyph:"?",units:[{id:0x793c6d633a6330,name:"player",type:"circle",x:409,y:302,rotation:.2,strength:20,behaviors:[{name:"Player_Controller_Behavior"}]},...me.units.slice(1)]};var ue=R('<div class="sidebar svelte-mczz6b"><div class="topbar svelte-mczz6b"><div class="row justify_content_space_between"><!> <button type="button" class="plain" title="toggle editor [` Backtick]">âœ•</button></div> <div class="py_xs display_flex"><!> <!></div> <div class="row gap_md"><!> <!></div>  <div class="row mt_xs"><!></div></div> <div class="unit_controls svelte-mczz6b"><div class="unit_controls_inner svelte-mczz6b"><!></div></div></div>'),ge=R('<div class="sandbox_demo svelte-mczz6b"><div class="renderer relative svelte-mczz6b"><!> <!></div> <!></div>');function be(_,x){G(x,!0);const o=new Q(ee,"pixi",0,0),l=ne.set(new re({renderer:o}));V.set(l.clock),globalThis.app=l;const e=X.set(new Y({app:l})),{project:d}=e;d.set_json(Z({scenes:[h]})),console.log("scene_json",h);const{scene:a}=d;a.set_json(h),a.json_initial=a.json,te(()=>{const v=e.playing;return e.playing=!0,()=>{e.playing=v}}),oe(_,{children:(v,fe)=>{var p=ge(),i=s(p),y=s(i);ae(y,{get Component(){return o.Component},scene:a,renderer:o});var D=r(y,2);{var A=t=>{ie(t,{scene:a,get unit_selection(){return e.unit_selection},get width(){return o.width},get height(){return o.height},get scene_interaction_surface_state(){return e.scene_interaction_surface_state},set scene_interaction_surface_state(c){e.scene_interaction_surface_state=c}})};S(D,t=>{e.editing&&t(A)})}n(i);var H=r(i,2);{var L=t=>{var c=ue(),m=s(c),u=s(m),z=s(u);se(z,{children:(M,he)=>{K();var T=W("ðŸ”®");f(M,T)},$$slots:{default:!0}});var P=r(z,2);P.__click=()=>{e.editing=!e.editing},n(u);var g=r(u,2),w=s(g);ce(w,{project:d});var U=r(w,2);de(U,{}),n(g);var b=r(g,2),$=s(b);le($,{renderer:o,omit_size:!0,row:!0});var E=r($,2);_e(E,{}),n(b);var j=r(b,2),F=s(j);ve(F,{editor:e}),n(j),n(m);var k=r(m,2),C=s(k),I=s(C);pe(I,{project:d}),n(C),n(k),n(c),f(t,c)};S(H,t=>{e.editing&&t(L)})}n(p),B(i,"clientWidth",t=>o.width=t),B(i,"clientHeight",t=>o.height=t),f(v,p)}}),J()}O(["click"]);function Ae(_){q(x=>{N.title="Dealt: sandbox demo"}),be(_,{})}export{Ae as component};
