import{b as H,a as x,t as I,h as J}from"../chunks/disclose-version.hpen2EY6.js";import{m as K,o as N,s as r,c as o,n as O,r as s,$ as Q}from"../chunks/runtime.BxixJYQn.js";import{i as y}from"../chunks/props.DCp65xQH.js";import{o as W}from"../chunks/index-client.DzeqT_l4.js";import{B as X}from"../chunks/Breadcrumb.ghOmMoS9.js";import{a as Y,A as Z,D as ee,S as te,C as oe,b as se}from"../chunks/Dealt.D1lvKBEC.js";import{S as ne,F as ie,a as re,b as ae}from"../chunks/Fps_Indicator.Dwbq6601.js";import{c as ce,C as _e,e as de,E as ve,p as le,R as me,r as fe}from"../chunks/renderer_components.Br8110jH.js";import{R as pe}from"../chunks/Renderer_Controls.CJNHXm6L.js";import{U as ue}from"../chunks/Unit_List_And_Layers.sNWw2TWY.js";import{s as D}from"../chunks/scene_data.B2YDRubQ.js";import{U as he}from"../chunks/User_Input_Info.B5ugMjFl.js";var ge=I('<div class="controls_wrapper svelte-17hi22n"><!></div>'),we=I('<div class="wrapper svelte-17hi22n"><div class="content p_md"><header class="pb_md"><!></header> <div class="my_md flex"><!> <div class="align_self_end"><!></div></div> <div class="mb_md"><!></div> <div class="relative mt_md"><!> <!></div> <p class="mt_lg width_sm"><!></p></div> <!></div>');function $e(f,b){N(b,!0);const a=new me(fe,"pixi",800,600),v=ce.set(new _e),M=new se,U=new te(M),l=new oe,C=Y.set(new Z({renderer:a,clock:v,simulation:U,controller:l}));globalThis.app=C;const c=de.set(new ve({app:C})),{project:m}=c;m.set_json(le({scenes:[D]}));const{scene:i}=m;i.set_json(D),i.json_initial=i.json,W(()=>{const e=v.watch(A);return v.start(),()=>{e(),v.stop()}});const A=e=>{const d=i.filter_units_by_behavior("Player_Controller_Behavior");if(d)for(const n of d)B(n),P(n);i.update(e)},B=e=>{!e.dead&&l.moving&&(e.velocity-=.1*l.moving_y,e.angle+=.04*l.moving_x)},P=e=>{if(!e.dead){const d=Math.cos(e.angle),n=Math.sin(e.angle);e.velocity>0?(e.velocity-=.05,e.velocity>3&&(e.velocity=3)):e.velocity<0&&(e.velocity+=.05,e.velocity<-2&&(e.velocity=-2)),Math.round(e.velocity*100)||(e.velocity=0),e.velocity&&(e.x+=d*e.velocity,e.y+=n*e.velocity)}};ee(f,{children:(e,d)=>{var n=we(),p=o(n),u=o(p),E=o(u);X(E,{children:(t,_)=>{O();var $=H("ðŸ”®");x(t,$)},$$slots:{default:!0}}),s(u);var h=r(u,2),j=o(h);ne(j,{project:m});var S=r(j,2),F=o(S);ie(F,{}),s(S),s(h);var g=r(h,2),L=o(g);pe(L,{renderer:a}),s(g);var w=r(g,2),R=o(w);re(R,{get Component(){return a.Component},scene:i,renderer:a});var T=r(R,2);{var V=t=>{ae(t,{scene:i,get unit_selection(){return c.unit_selection},get width(){return a.width},get height(){return a.height},get scene_interaction_surface_state(){return c.scene_interaction_surface_state},set scene_interaction_surface_state(_){c.scene_interaction_surface_state=_}})};y(T,t=>{c.editing&&t(V)})}s(w);var k=r(w,2),q=o(k);he(q,{edit:!0}),s(k),s(p);var z=r(p,2);{var G=t=>{var _=ge(),$=o(_);ue($,{project:m}),s(_),x(t,_)};y(z,t=>{c.editing&&t(G)})}s(n),x(e,n)},$$slots:{default:!0}}),K()}function Ae(f){J(b=>{Q.title="Dealt: vehicle demo"}),$e(f,{})}export{Ae as component};
