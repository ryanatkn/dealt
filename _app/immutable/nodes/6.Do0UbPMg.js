import{a as b,t as D,b as q,h as G}from"../chunks/disclose-version.hpen2EY6.js";import{m as J,o as K,s as a,c as o,r as n,n as N,$ as O}from"../chunks/runtime.BxixJYQn.js";import{d as Q}from"../chunks/render.CII73B8B.js";import{i as B}from"../chunks/props.DCp65xQH.js";import{c as V,e as X,E as Y,p as Z,R as ee,r as te,b as R}from"../chunks/renderer_components.Br8110jH.js";import{o as se}from"../chunks/index-client.DzeqT_l4.js";import{B as oe}from"../chunks/Breadcrumb.ghOmMoS9.js";import{a as ne,A as re,D as ae}from"../chunks/Dealt.D1lvKBEC.js";import{a as ie,b as ce,S as de,F as _e}from"../chunks/Fps_Indicator.Dwbq6601.js";import{R as le}from"../chunks/Renderer_Controls.CJNHXm6L.js";import{a as ve,U as pe}from"../chunks/Unit_List_And_Layers.sNWw2TWY.js";import{s as ue}from"../chunks/scene_data.B2YDRubQ.js";const x={id:7464772085109328,name:"sandbox demo",glyph:"?",units:[{id:0x793c6d633a6330,name:"player",type:"circle",x:409,y:302,angle:.2,strength:20,behaviors:[{name:"Player_Controller_Behavior"}]},...ue.units.slice(1)]};var me=D('<div class="sidebar svelte-zsua3"><div class="topbar svelte-zsua3"><div class="row justify_content_space_between"><!> <button type="button" class="plain" title="toggle editor [` Backtick]">âœ•</button></div> <div class="py_xs flex"><!> <!></div> <!>  <div class="row mt_xs"><!></div></div> <div class="unit_controls svelte-zsua3"><div class="unit_controls_inner svelte-zsua3"><!></div></div></div>'),fe=D('<div class="sandbox_demo svelte-zsua3"><div class="renderer relative svelte-zsua3"><!> <!></div> <!></div>');function he(p,y){K(y,!0);const r=new ee(te,"pixi",0,0),l=ne.set(new re({renderer:r})),{clock:u}=l;V.set(l.clock),globalThis.app=l;const t=X.set(new Y({app:l})),{project:v}=t;v.set_json(Z({scenes:[x]})),console.log("scene_json",x);const{scene:s}=v;s.set_json(x),s.json_initial=s.json,se(()=>{const c=u.watch(P);return u.start(),()=>{c(),u.stop()}});const P=c=>{const m=s.filter_units_by_behavior("Player_Controller_Behavior");if(m)for(const i of m)i.dead||(i.direction_x=s.controller.moving_x,i.direction_y=s.controller.moving_y);s.update(c)};ae(p,{children:(c,m)=>{var i=fe(),d=o(i),$=o(d);ie($,{get Component(){return r.Component},scene:s,renderer:r});var A=a($,2);{var L=e=>{ce(e,{scene:s,get unit_selection(){return t.unit_selection},get width(){return r.width},get height(){return r.height},get scene_interaction_surface_state(){return t.scene_interaction_surface_state},set scene_interaction_surface_state(_){t.scene_interaction_surface_state=_}})};B(A,e=>{t.editing&&e(L)})}n(d);var U=a(d,2);{var E=e=>{var _=me(),f=o(_),h=o(f),w=o(h);oe(w,{children:(T,ge)=>{N();var W=q("ðŸ”®");b(T,W)},$$slots:{default:!0}});var F=a(w,2);F.__click=()=>{t.editing=!t.editing},n(h);var g=a(h,2),j=o(g);de(j,{project:v});var I=a(j,2);_e(I,{}),n(g);var k=a(g,2);le(k,{renderer:r,omit_size:!0,row:!0});var z=a(k,2),H=o(z);ve(H,{editor:t}),n(z),n(f);var C=a(f,2),S=o(C),M=o(S);pe(M,{project:v}),n(S),n(C),n(_),b(e,_)};B(U,e=>{t.editing&&e(E)})}n(i),R(d,"clientWidth",e=>r.width=e),R(d,"clientHeight",e=>r.height=e),b(c,i)},$$slots:{default:!0}}),J()}Q(["click"]);function De(p){G(y=>{O.title="Dealt: sandbox demo"}),he(p,{})}export{De as component};
